\RequirePackage{expl3, xparse, l3keys2e}
%<@@=vPkg>
\ProvidesExplFile{}{}{}{}

\tl_new:N \@@_emojifont

\keys_define:nn {@@}{
  emoji.tl_set:N = \@@_emojifont,
  emoji.default:n = {Segoe~UI~Emoji}, % Twemoji Mozilla
}

\ProcessKeysOptions{@@}

%% 必需
% 配置字体，math font交给unicode-math
\RequirePackage[no-math]{fontspec}
\setmainfont{Times~New~Roman}
\setmonofont{Consolas}
\PassOptionsToPackage{table}{xcolor}
\RequirePackage{xcolor} % 用于各种颜色环境
\RequirePackage{graphicx} % 加强插图, 含graphics
\RequirePackage{array} % 对表格列格式的扩展。
% 数学
\RequirePackage{amsmath} % 提供数学公式支持
% 提供完整的符号命令, 不需要upgreek和bm等数学字体宏包
\RequirePackage{unicode-math}
\unimathsetup{math-style=ISO}

%% 额外
\RequirePackage{tcolorbox}
\tcbuselibrary{most} % most 会自动调取除 minted 和 documentation 之外所有的 tcolorbox 程序库。

\RequirePackage{subfigure} % 用于添加子图
\RequirePackage{pdfpages}  % 整页插入pdf

\RequirePackage{enumitem}%用于定制list和enum
\RequirePackage{float}%用于控制Float环境，添加H参数（强制放在Here）

\RequirePackage{tikz} % 绘图包

\RequirePackage{tabularx} % 提供 tabularx 环境排版定宽表格，支持自动计算宽度的 X 列格式。
\RequirePackage{diagbox} % 斜线单元格

\RequirePackage[numbers,sort,super,square]{natbib} % 引用

\RequirePackage{geometry} % 用于控制版式，设置为Word的默认样式
\RequirePackage{fancyhdr} % 用于排版页眉页脚, 需放在geometry后面
\RequirePackage{paracol} % 多栏对齐排版
\RequirePackage{multicol} % 多栏排版
\RequirePackage{appendix} % 用于控制附加文件

\RequirePackage{attachfile2} % 添加附件

\RequirePackage{ulem} % 可换行的下划线

\tl_if_empty:NF \@@_emojifont{
  \RequirePackage{emoji}
  \setemojifont{\@@_emojifont}
}

%<@@=>